<!DOCTYPE html>
<html lang="ta">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>eBook Website</title>
  <meta name="theme-color" content="#121212">
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png">

  <style>
    html { scroll-behavior: smooth; }
    body {
      margin: 0; font-family: 'Segoe UI', sans-serif;
      height: 100vh; background: #f4f4f8; color: #222;
      transition: background 0.3s, color 0.3s;
    }
    body.dark { background: #121212; color: #f0f0f0; }

    /* Sidebar */
    .sidebar {
      position: fixed; left: -250px; top: 0; width: 250px; height: 100%;
      background: #222; color: #fff; padding: 20px; box-sizing: border-box;
      transition: left 0.3s ease; z-index: 100; overflow-y: auto;
    }
    .sidebar.active { left: 0; }
    .sidebar h2 { text-align: center; margin-bottom: 20px; }
    .menu-item {
      padding: 12px; cursor: pointer; border-radius: 8px;
      transition: background 0.2s;
    }
    .menu-item:hover { background: #444; }

    /* Buttons */
    .menu-btn, .theme-btn {
      position: fixed; top: 15px; background: #222; color: #fff;
      border: none; padding: 10px 15px; font-size: 18px;
      border-radius: 8px; cursor: pointer; z-index: 200;
      transition: background 0.3s;
    }
    .menu-btn:hover, .theme-btn:hover { background: #333; }
    .menu-btn { left: 15px; }
    .theme-btn { right: 15px; }

    /* Content */
    .content {
      margin-left: 0; padding: 60px 40px;
      transition: margin-left 0.3s ease, background 0.3s, color 0.3s;
      min-height: 100vh; background: #fff;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.1);
      line-height: 1.6;
    }
    body.dark .content {
      background: #1e1e1e; color: #f0f0f0;
      box-shadow: inset 0 0 10px rgba(255,255,255,0.05);
    }
    .sidebar.active ~ .content { margin-left: 250px; }
    h1 { border-bottom: 2px solid #ddd; padding-bottom: 10px; }
    body.dark h1 { border-color: #444; }
  </style>
</head>
<body>

  <button class="menu-btn" onclick="toggleSidebar()">ЁЯУЪ Menu</button>
  <button class="theme-btn" onclick="toggleTheme()">ЁЯМЩ</button>

  <div class="sidebar" id="sidebar">
    <h2>ЁЯУЦ eBook Menu</h2>
    <div class="menu-item" onclick="loadPage('intro')">роЕро▒ро┐роорпБроХроорпН</div>
    <div class="menu-item" onclick="loadPage('chapter1')">роЕродрпНродро┐ропро╛ропроорпН 1</div>
    <div class="menu-item" onclick="loadPage('chapter2')">роЕродрпНродро┐ропро╛ропроорпН 2</div>
    <div class="menu-item" onclick="loadPage('chapter3')">роЕродрпНродро┐ропро╛ропроорпН 3</div>
    <div class="menu-item" onclick="loadPage('chapter4')">роЕродрпНродро┐ропро╛ропроорпН 4</div>
    <div class="menu-item" onclick="loadPage('chapter5')">роЕродрпНродро┐ропро╛ропроорпН 5</div>
    <div class="menu-item" onclick="loadPage('about')">роОро┤рпБродро┐ропро╡ро░рпН рокро▒рпНро▒ро┐</div>
  </div>

  <div class="content" id="content">
    <h1>ро╡рогроХрпНроХроорпН рооро╛родрпБ ЁЯСЛ</h1>
    <p>роЗродрпБ роЙройрпН eBook рооро╛родро┐ро░ро┐ Website. "ЁЯУЪ Menu" рокрпКродрпНродро╛ройрпИ роЕро┤рпБродрпНродрпБ тАФ Chapters родро┐ро▒роХрпНроХрпБроорпН!</p>
  </div>

  <script>
    const sidebar = document.getElementById('sidebar');
    const body = document.body;
    const themeBtn = document.querySelector('.theme-btn');

    // Sidebar toggle
    function toggleSidebar() {
      sidebar.classList.toggle('active');
    }

    // Outside click close
    document.addEventListener('click', e => {
      if (!sidebar.contains(e.target) && !e.target.classList.contains('menu-btn')) {
        sidebar.classList.remove('active');
      }
    });

    // Pages
    const pages = {
      intro: `<h1>роЕро▒ро┐роорпБроХроорпН</h1><p>роЗроЩрпНроХрпЗ роЕро▒ро┐роорпБроХроорпН content роОро┤рпБродро▓ро╛роорпН...</p>`,
      chapter1: `<h1>роЕродрпНродро┐ропро╛ропроорпН 1</h1><p>роЗроЩрпНроХрпЗ роЕродрпНродро┐ропро╛ропроорпН 1 content роОро┤рпБродро▓ро╛роорпН...</p>`,
      chapter2: `<h1>роЕродрпНродро┐ропро╛ропроорпН 2</h1><p>роЗроЩрпНроХрпЗ роЕродрпНродро┐ропро╛ропроорпН 2 content роОро┤рпБродро▓ро╛роорпН...</p>`,
      chapter3: `<h1>роЕродрпНродро┐ропро╛ропроорпН 3</h1><p>роЗроЩрпНроХрпЗ роЕродрпНродро┐ропро╛ропроорпН 3 content роОро┤рпБродро▓ро╛роорпН...</p>`,
      chapter4: `<h1>роЕродрпНродро┐ропро╛ропроорпН 4</h1><p>роЗроЩрпНроХрпЗ роЕродрпНродро┐ропро╛ропроорпН 4 content роОро┤рпБродро▓ро╛роорпН...</p>`,
      chapter5: `<h1>роЕродрпНродро┐ропро╛ропроорпН 5</h1><p>роЗроЩрпНроХрпЗ роЕродрпНродро┐ропро╛ропроорпН 5 content роОро┤рпБродро▓ро╛роорпН...</p>`,
      about: `<h1>роОро┤рпБродро┐ропро╡ро░рпН рокро▒рпНро▒ро┐</h1><p>роЗроЩрпНроХрпЗ роОро┤рпБродро┐ропро╡ро░рпН рокро▒рпНро▒ро┐роп content роОро┤рпБродро▓ро╛роорпН...</p>`
    };

    function loadPage(page) {
      document.getElementById('content').innerHTML = pages[page] || "<h1>рокроХрпНроХроорпН роХро╛рогро╡ро┐ро▓рпНро▓рпИ</h1>";
      toggleSidebar();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    // Theme toggle
    function toggleTheme() {
      body.classList.toggle('dark');
      themeBtn.textContent = body.classList.contains('dark') ? 'тШАя╕П' : 'ЁЯМЩ';
      localStorage.setItem('theme', body.classList.contains('dark') ? 'dark' : 'light');
    }
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark');
      themeBtn.textContent = 'тШАя╕П';
    }

    // тЬЕ Register service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('тЬЕ Service Worker Registered'))
        .catch(err => console.log('тЭМ Service Worker failed:', err));
    }
  </script>
</body>
</html>